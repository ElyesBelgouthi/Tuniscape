{% extends 'base.html.twig' %}

{% block title %}
  Accommodations
{% endblock %}

{% block body %}
  <div class="container">
    {% for message in app.session.flashBag.get('success') %}
      <div class="alert alert-success">
        {{ message }}
      </div>
    {% endfor %}
    {% for message in app.session.flashBag.get('alert') %}
      <div class="alert alert-danger">
        {{ message }}
      </div>
    {% endfor %}
    <div class="container">
      <div class="row">
        <div class="col">
          <h1>
            Accommodations
          </h1>
        </div>
        <div class="col">
          <a style="margin-top: 7px"
            href="{{ path('app_accommodation_edit') }}"
            class="btn btn-success">
            add
          </a>
        </div>
      </div>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th scope="col">
            Name
          </th>
          <th scope="col">
            Type
          </th>
          <th scope="col">
            Description
          </th>
          <th scope="col">
            Region
          </th>
          <th scope="col">
            Actions
          </th>
        </tr>
      </thead>

      <tbody>
        {% for accommodation in accommodations %}
          <tr>
            <td>
              {{ accommodation.name }}
            </td>
            <td>
              {{ accommodation.type }}
            </td>
            <td>
              {{ accommodation.description }}
            </td>
            <td>
              {{ accommodation.region.name }}
            </td>
            <td>
              <a href="{{
                path(
                  'app_accommodation_delete',
                  {
                    id: accommodation.id
                  }
                )
                }}"
                class="btn btn-danger">
                delete
              </a>
              <a href="{{
                path(
                  'app_accommodation_edit',
                  {
                    id: accommodation.id
                  }
                )
                }}"
                class="btn btn-primary">
                edit
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}

{% block stylesheets %}
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous" />
{% endblock %}
